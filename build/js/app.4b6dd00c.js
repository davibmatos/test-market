(function(){"use strict";var e={2675:function(e,t,a){var o=a(5130),r=a(6768);function l(e,t,a,o,l,d){const s=(0,r.g2)("router-view"),n=(0,r.g2)("v-main"),i=(0,r.g2)("v-app");return(0,r.uX)(),(0,r.Wv)(i,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.bF)(s)])),_:1})])),_:1})}var d={name:"App",data:()=>({})},s=a(1241);const n=(0,s.A)(d,[["render",l]]);var i=n,u=a(1387),c=a(4232);const p={key:0,class:"alert alert-danger"},m={class:"d-flex align-items-center"};function b(e,t,a,l,d,s){const n=(0,r.g2)("b-form-input"),i=(0,r.g2)("b-form-group"),u=(0,r.g2)("b-form-select"),b=(0,r.g2)("b-icon"),f=(0,r.g2)("b-button"),h=(0,r.g2)("b-form"),y=(0,r.g2)("b-modal"),k=(0,r.g2)("b-container");return(0,r.uX)(),(0,r.Wv)(k,{class:"form-container"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{onSubmit:(0,o.D$)(s.submitProduct,["prevent"])},{default:(0,r.k6)((()=>[(0,r.bF)(i,{label:"Nome do Produto",class:"form-group"},{default:(0,r.k6)((()=>[d.errorMessage?((0,r.uX)(),(0,r.CE)("div",p,(0,c.v_)(d.errorMessage),1)):(0,r.Q3)("",!0),(0,r.bF)(n,{class:"form-input",modelValue:d.product.name,"onUpdate:modelValue":t[0]||(t[0]=e=>d.product.name=e),required:""},null,8,["modelValue"])])),_:1}),(0,r.bF)(i,{label:"Preço do Produto",class:"form-group"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{class:"form-input",modelValue:d.product.price,"onUpdate:modelValue":t[1]||(t[1]=e=>d.product.price=e),type:"number",step:"0.01",required:""},null,8,["modelValue"])])),_:1}),(0,r.bF)(i,{label:"Estoque",class:"form-group"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{class:"form-input",modelValue:d.product.stock,"onUpdate:modelValue":t[2]||(t[2]=e=>d.product.stock=e),type:"number",min:"0",required:""},null,8,["modelValue"])])),_:1}),(0,r.bF)(i,{label:"Tipo de Produto",class:"form-group"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",m,[(0,r.bF)(u,{class:"form-select",modelValue:d.product.type,"onUpdate:modelValue":t[3]||(t[3]=e=>d.product.type=e),options:d.productTypes},null,8,["modelValue","options"]),(0,r.bF)(f,{variant:"outline-secondary",onClick:s.openTypeModal,class:"ml-2"},{default:(0,r.k6)((()=>[(0,r.bF)(b,{icon:"plus"}),(0,r.eW)("+ ")])),_:1},8,["onClick"])])])),_:1}),(0,r.bF)(f,{class:"submit-button",variant:"primary",type:"submit"},{default:(0,r.k6)((()=>[(0,r.eW)("Registrar Produto")])),_:1})])),_:1},8,["onSubmit"]),(0,r.bF)(y,{modelValue:d.typeModalOpen,"onUpdate:modelValue":t[6]||(t[6]=e=>d.typeModalOpen=e),title:"Cadastro de Novo Tipo de Produto"},{"modal-footer":(0,r.k6)((({close:e})=>[(0,r.bF)(f,{class:"button-cancel",variant:"secondary",onClick:s.closeTypeModal},{default:(0,r.k6)((()=>[(0,r.eW)("Cancelar")])),_:1},8,["onClick"]),(0,r.bF)(f,{class:"button-save",variant:"primary",onClick:s.saveType},{default:(0,r.k6)((()=>[(0,r.eW)("Salvar")])),_:1},8,["onClick"])])),default:(0,r.k6)((()=>[(0,r.bF)(i,{label:"Nome do Tipo",class:"form-group"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{class:"form-input",modelValue:d.newType.name,"onUpdate:modelValue":t[4]||(t[4]=e=>d.newType.name=e),required:""},null,8,["modelValue"])])),_:1}),(0,r.bF)(i,{label:"Percentual de Imposto",class:"form-group"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{class:"form-input",modelValue:d.newType.taxRate,"onUpdate:modelValue":t[5]||(t[5]=e=>d.newType.taxRate=e),type:"number",step:"0.01",required:""},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1})}a(4114);var f=a(4373);const h=f.A.create({baseURL:"https://davimatos.tech/",headers:{Accept:"application/json","Content-Type":"application/json"}});var y=h,k={data(){return{product:{name:"",price:0,type:null,stock:0},productTypes:[],newType:{name:"",taxRate:0},typeModalOpen:!1,errorMessage:""}},setup(){const e=(0,u.rd)();return{router:e}},methods:{openTypeModal(){this.typeModalOpen=!0},closeTypeModal(){this.typeModalOpen=!1},saveType(){y.post("/product-type/add",this.newType).then((e=>{this.productTypes.push({value:e.data.id,text:e.data.type_name}),this.closeTypeModal()})).catch((e=>console.error("Erro ao salvar tipo de produto:",e)))},submitProduct(){y.post("/product/add",this.product).then((()=>{this.router.push("/products")})).catch((e=>{this.errorMessage=e.response.data.message}))}},mounted(){y.get("/product-type/view").then((e=>{this.productTypes=e.data.data.map((e=>({value:e.id,text:e.type_name})))})).catch((e=>console.error("Erro ao carregar tipos de produtos:",e)))}};const g=(0,s.A)(k,[["render",b]]);var v=g;const _=e=>((0,r.Qi)("data-v-3e09de10"),e=e(),(0,r.jt)(),e),P={key:0},F=_((()=>(0,r.Lk)("h2",{class:"sales-header"},"Nova Venda",-1)));function V(e,t,a,o,l,d){const s=(0,r.g2)("b-button"),n=(0,r.g2)("b-col"),i=(0,r.g2)("b-row"),u=(0,r.g2)("b-table"),p=(0,r.g2)("multiselect"),m=(0,r.g2)("b-form-group"),b=(0,r.g2)("b-form-input"),f=(0,r.g2)("b-icon"),h=(0,r.g2)("b-card"),y=(0,r.g2)("b-container");return(0,r.uX)(),(0,r.Wv)(y,{class:"sales-container"},{default:(0,r.k6)((()=>[(0,r.bF)(i,{class:"mb-3 mt-3"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{class:"d-flex justify-content-end"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{variant:"primary",onClick:d.startNewSale},{default:(0,r.k6)((()=>[(0,r.eW)("Criar Nova Venda")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,r.bF)(u,{items:l.sales,fields:l.salesFields,class:"mb-5"},{"cell(sale_date)":(0,r.k6)((t=>[(0,r.eW)((0,c.v_)(e.$formatDate(t.item.sale_date)),1)])),_:1},8,["items","fields"]),l.newSaleViewVisible?((0,r.uX)(),(0,r.CE)("div",P,[(0,r.bF)(h,null,{default:(0,r.k6)((()=>[F,(0,r.bF)(i,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,{cols:"8"},{default:(0,r.k6)((()=>[(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(p,{modelValue:l.selectedProduct,"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedProduct=e),options:d.filteredProducts,searchable:!0,"internal-search":!1,loading:l.isLoading,"options-limit":300,placeholder:"Digite para buscar produtos",label:"name","track-by":"name",onSearchChange:d.fetchFilteredProducts},null,8,["modelValue","options","loading","onSearchChange"])])),_:1})])),_:1}),(0,r.bF)(n,{cols:"2"},{default:(0,r.k6)((()=>[(0,r.bF)(b,{class:"sales-input mt-3",modelValue:l.selectedQuantity,"onUpdate:modelValue":t[1]||(t[1]=e=>l.selectedQuantity=e),type:"number",min:"1",placeholder:"Quantidade"},null,8,["modelValue"])])),_:1}),(0,r.bF)(n,{cols:"2"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{class:"mt-3",onClick:d.addProduct},{default:(0,r.k6)((()=>[(0,r.eW)("Adicionar Produto")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,r.bF)(u,{fields:l.cartHeaders,items:l.cart,class:"mt-4"},{"cell(quantity)":(0,r.k6)((e=>[(0,r.Lk)("span",null,(0,c.v_)(e.item.quantity),1)])),"cell(actions)":(0,r.k6)((e=>[(0,r.bF)(s,{class:"sales-button sales-button-danger",onClick:t=>d.removeProduct(e.item)},{default:(0,r.k6)((()=>[(0,r.bF)(f,{icon:"trash-fill"}),(0,r.eW)(" Deletar ")])),_:2},1032,["onClick"])])),_:1},8,["fields","items"]),(0,r.bF)(i,{class:"sales-summary mt-3"},{default:(0,r.k6)((()=>[(0,r.bF)(n,null,{default:(0,r.k6)((()=>[(0,r.Lk)("div",null,"Total de Impostos: "+(0,c.v_)(d.totalTaxes.toFixed(2)),1),(0,r.Lk)("div",null,"Total da Compra: "+(0,c.v_)(d.totalPrice.toFixed(2)),1),(0,r.bF)(s,{class:"sales-button sales-button-primary mt-2",onClick:d.finalizeSale},{default:(0,r.k6)((()=>[(0,r.eW)("Finalizar Venda")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])):(0,r.Q3)("",!0)])),_:1})}var T=a(8074),C={components:{Multiselect:T.Ay},data(){return{products:[],sales:[],cart:[],selectedProduct:null,selectedQuantity:1,searchQuery:"",newSaleViewVisible:!1,isLoading:!1,salesFields:[{key:"id",label:"ID"},{key:"total",label:"Total da Compra"},{key:"tax_rate",label:"Total de Impostos"},{key:"sale_date",label:"Data da Venda"}],cartHeaders:[{key:"name",label:"Produto"},{key:"quantity",label:"Quantidade"},{key:"price",label:"Preço Unitário"},{key:"subtotal",label:"Subtotal"},{key:"tax_rate",label:"Imposto"},{key:"actions",label:"Ações"}]}},computed:{totalTaxes(){return this.cart.reduce(((e,t)=>e+t.tax),0)},totalPrice(){return this.cart.reduce(((e,t)=>e+t.subtotal),0)},filteredProducts(){return this.products}},methods:{fetchProducts(){this.isLoading=!0,y.get("/product/view").then((e=>{this.products=e.data.map((e=>({...e,taxRate:e.taxRate||0}))),this.isLoading=!1})).catch((e=>{console.error("Erro ao buscar produtos:",e),this.isLoading=!1}))},fetchSales(){y.get("/sale/view").then((e=>{this.sales=e.data.data})).catch((e=>console.error("Erro ao buscar vendas:",e)))},startNewSale(){this.newSaleViewVisible=!0,this.cart=[],this.selectedProduct=null,this.selectedQuantity=1,this.fetchProducts()},fetchFilteredProducts(e){e.length>2&&y.get(`/product/search?query=${e}`).then((e=>{this.products=e.data})).catch((e=>console.error("Erro ao filtrar produtos:",e)))},addProduct(){if(!this.selectedProduct||this.cart.some((e=>e.id===this.selectedProduct.id)))return;const e=this.products.find((e=>e.id===this.selectedProduct.id)),t={...e,quantity:this.selectedQuantity,subtotal:e.price*this.selectedQuantity,tax:e.tax_rate/100*e.price*this.selectedQuantity};this.cart.push(t),this.selectedProduct=null,this.selectedQuantity=1},removeProduct(e){this.cart=this.cart.filter((t=>t.id!==e.id))},finalizeSale(){const e={cart:this.cart,total:this.totalPrice,taxes:this.totalTaxes,date:(new Date).toISOString()};y.post("/sale/add",e).then((()=>{this.fetchSales(),this.newSaleViewVisible=!1})).catch((e=>console.error("Erro ao finalizar venda:",e)))}},mounted(){this.fetchProducts(),this.fetchSales()}};const w=(0,s.A)(C,[["render",V],["__scopeId","data-v-3e09de10"]]);var M=w;const E={key:0,class:"alert alert-danger"};function x(e,t,a,l,d,s){const n=(0,r.g2)("b-button"),i=(0,r.g2)("b-col"),u=(0,r.g2)("b-form-input"),p=(0,r.g2)("b-row"),m=(0,r.g2)("b-table"),b=(0,r.g2)("b-form-group"),f=(0,r.g2)("b-form-select"),h=(0,r.g2)("b-form"),y=(0,r.g2)("b-modal"),k=(0,r.g2)("b-container");return(0,r.uX)(),(0,r.Wv)(k,{class:"mt-4"},{default:(0,r.k6)((()=>[d.errorMessage?((0,r.uX)(),(0,r.CE)("div",E,(0,c.v_)(d.errorMessage),1)):(0,r.Q3)("",!0),(0,r.bF)(p,{class:"mb-3"},{default:(0,r.k6)((()=>[(0,r.bF)(i,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,{variant:"success",onClick:t[0]||(t[0]=t=>e.$router.push("/add-product"))},{default:(0,r.k6)((()=>[(0,r.eW)("Cadastrar Produto")])),_:1})])),_:1}),(0,r.bF)(i,{class:"text-right"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{modelValue:d.search,"onUpdate:modelValue":t[1]||(t[1]=e=>d.search=e),placeholder:"Pesquisar pelo nome do produto"},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(i,null,{default:(0,r.k6)((()=>[(0,r.bF)(m,{items:s.filteredProducts,fields:d.fields},{"cell(type_name)":(0,r.k6)((e=>[(0,r.eW)((0,c.v_)(e.item.typeName),1)])),"cell(actions)":(0,r.k6)((e=>[(0,r.bF)(n,{size:"sm",variant:"primary",onClick:t=>s.openEditModal(e.item)},{default:(0,r.k6)((()=>[(0,r.eW)("Editar")])),_:2},1032,["onClick"]),(0,r.bF)(n,{size:"sm",variant:"danger",onClick:t=>s.deleteProduct(e.item)},{default:(0,r.k6)((()=>[(0,r.eW)("Deletar")])),_:2},1032,["onClick"])])),_:1},8,["items","fields"])])),_:1})])),_:1}),(0,r.bF)(y,{modelValue:d.editModalVisible,"onUpdate:modelValue":t[6]||(t[6]=e=>d.editModalVisible=e),title:"Editar Produto","hide-footer":""},{default:(0,r.k6)((()=>[(0,r.bF)(h,{onSubmit:(0,o.D$)(s.submitEdit,["prevent"])},{default:(0,r.k6)((()=>[(0,r.bF)(b,{label:"Nome do Produto"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{modelValue:d.editProduct.name,"onUpdate:modelValue":t[2]||(t[2]=e=>d.editProduct.name=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(b,{label:"Preço do Produto"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{modelValue:d.editProduct.price,"onUpdate:modelValue":t[3]||(t[3]=e=>d.editProduct.price=e),type:"number",step:"0.01"},null,8,["modelValue"])])),_:1}),(0,r.bF)(b,{label:"Tipo de Produto"},{default:(0,r.k6)((()=>[(0,r.bF)(f,{modelValue:d.editProduct.type_id,"onUpdate:modelValue":t[4]||(t[4]=e=>d.editProduct.type_id=e),options:d.productTypes},null,8,["modelValue","options"])])),_:1}),(0,r.bF)(n,{type:"submit",variant:"primary"},{default:(0,r.k6)((()=>[(0,r.eW)("Salvar Alterações")])),_:1}),(0,r.bF)(n,{variant:"danger",onClick:t[5]||(t[5]=e=>d.editModalVisible=!1)},{default:(0,r.k6)((()=>[(0,r.eW)("Cancelar")])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["modelValue"])])),_:1})}var S={data(){return{products:[],productTypes:[],editProduct:{id:null,name:"",price:0,type_id:null},editModalVisible:!1,errorMessage:"",search:"",fields:[{key:"name",label:"Nome"},{key:"price",label:"Preço"},{key:"type_name",label:"Tipo de Produto"},{key:"actions",label:"Ações",sortable:!1}]}},computed:{filteredProducts(){return this.products.filter((e=>e.name.toLowerCase().includes(this.search.toLowerCase())))}},methods:{async fetchData(){await this.fetchProductTypes(),await this.fetchProducts()},async fetchProductTypes(){try{const e=await y.get("/product-type/view");this.productTypes=e.data.data.map((e=>({value:e.id,text:e.type_name})))}catch(e){console.error("Erro ao buscar tipos de produtos:",e)}},async fetchProducts(){try{const e=await y.get("/product/view");this.products=e.data.map((e=>({...e,typeName:this.productTypes.find((t=>t.value===e.type_id))?.text||"Tipo não especificado"})))}catch(e){console.error("Erro ao buscar produtos:",e)}},openEditModal(e){this.editProduct={...e},this.editModalVisible=!0},submitEdit(){y.put(`/product/edit?id=${this.editProduct.id}`,this.editProduct).then((()=>{this.fetchData(),this.editModalVisible=!1})).catch((e=>console.error("Erro ao editar produto:",e)))},deleteProduct(e){y.delete(`/product/delete?id=${e.id}`).then((()=>this.fetchData())).catch((e=>{this.errorMessage=e.response.data.message}))}},mounted(){this.fetchData()}};const W=(0,s.A)(S,[["render",x]]);var O=W;const A={key:0,class:"alert alert-danger"},j={key:0,class:"alert alert-danger"};function U(e,t,a,l,d,s){const n=(0,r.g2)("b-button"),i=(0,r.g2)("b-col"),u=(0,r.g2)("b-form-input"),p=(0,r.g2)("b-row"),m=(0,r.g2)("b-table"),b=(0,r.g2)("b-form-group"),f=(0,r.g2)("b-form"),h=(0,r.g2)("b-modal"),y=(0,r.g2)("b-container");return(0,r.uX)(),(0,r.Wv)(y,null,{default:(0,r.k6)((()=>[d.errorMessage?((0,r.uX)(),(0,r.CE)("div",A,(0,c.v_)(d.errorMessage),1)):(0,r.Q3)("",!0),(0,r.bF)(p,{class:"mb-3 mt-3"},{default:(0,r.k6)((()=>[(0,r.bF)(i,null,{default:(0,r.k6)((()=>[(0,r.bF)(n,{variant:"success",onClick:s.openAddModal},{default:(0,r.k6)((()=>[(0,r.eW)("Novo Cadastro")])),_:1},8,["onClick"])])),_:1}),(0,r.bF)(i,{class:"text-right"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{modelValue:d.search,"onUpdate:modelValue":t[0]||(t[0]=e=>d.search=e),placeholder:"Pesquisar pelo nome"},null,8,["modelValue"])])),_:1})])),_:1}),(0,r.bF)(m,{items:s.filteredProductTypes,fields:d.fields},{"cell(edit)":(0,r.k6)((e=>[(0,r.bF)(n,{variant:"info",onClick:t=>s.openEditModal(e.item)},{default:(0,r.k6)((()=>[(0,r.eW)("Editar")])),_:2},1032,["onClick"])])),"cell(delete)":(0,r.k6)((e=>[(0,r.bF)(n,{variant:"danger",onClick:t=>s.deleteProductType(e.item)},{default:(0,r.k6)((()=>[(0,r.eW)("Deletar")])),_:2},1032,["onClick"])])),_:1},8,["items","fields"]),(0,r.bF)(h,{modelValue:d.editModalVisible,"onUpdate:modelValue":t[4]||(t[4]=e=>d.editModalVisible=e),title:"Editar Tipo de Produto","hide-footer":""},{default:(0,r.k6)((()=>[(0,r.bF)(f,{onSubmit:(0,o.D$)(s.submitEdit,["prevent"])},{default:(0,r.k6)((()=>[(0,r.bF)(b,{label:"Nome do Tipo"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{modelValue:d.editProductType.type_name,"onUpdate:modelValue":t[1]||(t[1]=e=>d.editProductType.type_name=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(b,{label:"Percentual de Imposto"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{modelValue:d.editProductType.tax_rate,"onUpdate:modelValue":t[2]||(t[2]=e=>d.editProductType.tax_rate=e),type:"number",step:"0.01",required:""},null,8,["modelValue"])])),_:1}),(0,r.bF)(n,{type:"submit",variant:"primary"},{default:(0,r.k6)((()=>[(0,r.eW)("Salvar Alterações")])),_:1}),(0,r.bF)(n,{variant:"danger",onClick:t[3]||(t[3]=e=>d.editModalVisible=!1)},{default:(0,r.k6)((()=>[(0,r.eW)("Cancelar")])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["modelValue"]),(0,r.bF)(h,{modelValue:d.addModalVisible,"onUpdate:modelValue":t[8]||(t[8]=e=>d.addModalVisible=e),title:"Cadastrar Novo Tipo de Produto","hide-footer":""},{default:(0,r.k6)((()=>[d.errorMessage?((0,r.uX)(),(0,r.CE)("div",j,(0,c.v_)(d.errorMessage),1)):(0,r.Q3)("",!0),(0,r.bF)(f,{onSubmit:(0,o.D$)(s.submitAdd,["prevent"])},{default:(0,r.k6)((()=>[(0,r.bF)(b,{label:"Nome do Tipo"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{modelValue:d.newProductType.type_name,"onUpdate:modelValue":t[5]||(t[5]=e=>d.newProductType.type_name=e)},null,8,["modelValue"])])),_:1}),(0,r.bF)(b,{label:"Percentual de Imposto"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{modelValue:d.newProductType.tax_rate,"onUpdate:modelValue":t[6]||(t[6]=e=>d.newProductType.tax_rate=e),type:"number",step:"0.01"},null,8,["modelValue"])])),_:1}),(0,r.bF)(n,{type:"submit",variant:"primary"},{default:(0,r.k6)((()=>[(0,r.eW)("Cadastrar")])),_:1}),(0,r.bF)(n,{variant:"danger",onClick:t[7]||(t[7]=e=>d.addModalVisible=!1)},{default:(0,r.k6)((()=>[(0,r.eW)("Cancelar")])),_:1})])),_:1},8,["onSubmit"])])),_:1},8,["modelValue"])])),_:1})}var D={data(){return{productTypes:[],editProductType:{},newProductType:{type_name:"",tax_rate:0},editModalVisible:!1,addModalVisible:!1,errorMessage:"",search:"",fields:[{key:"type_name",label:"Nome"},{key:"tax_rate",label:"Imposto"},{key:"edit",label:"Editar"},{key:"delete",label:"Deletar"}]}},computed:{filteredProductTypes(){return this.productTypes.filter((e=>e.type_name.toLowerCase().includes(this.search.toLowerCase())))}},methods:{fetchProductTypes(){y.get("/product-type/view").then((e=>{this.productTypes=e.data.data})).catch((e=>console.error("Erro ao carregar tipos de produtos:",e)))},openEditModal(e){this.editProductType={...e},this.editModalVisible=!0},submitEdit(){y.put(`/product-type/edit?id=${this.editProductType.id}`,this.editProductType).then((()=>{this.fetchProductTypes(),this.editModalVisible=!1})).catch((e=>console.error("Erro ao editar tipo de produto:",e)))},openAddModal(){this.newProductType={type_name:"",tax_rate:0},this.addModalVisible=!0},submitAdd(){this.errorMessage="",y.post("/product-type/add",this.newProductType).then((e=>{"success"===e.data.status?(this.productTypes.push(e.data.data),this.addModalVisible=!1,this.fetchProductTypes()):this.errorMessage=e.data.message})).catch((e=>{this.errorMessage=e.response.data.message}))},deleteProductType(e){y.delete(`/product-type/delete?id=${e.id}`).then((()=>{this.fetchProductTypes()})).catch((e=>{this.errorMessage=e.response.data.message}))}},mounted(){this.fetchProductTypes()}};const L=(0,s.A)(D,[["render",U]]);var N=L;const Q=e=>((0,r.Qi)("data-v-02d206fa"),e=e(),(0,r.jt)(),e),q=Q((()=>(0,r.Lk)("h1",{class:"panel-title"},"Painel do Operador",-1)));function $(e,t,a,o,l,d){const s=(0,r.g2)("b-button"),n=(0,r.g2)("b-col"),i=(0,r.g2)("b-row"),u=(0,r.g2)("b-container");return(0,r.uX)(),(0,r.Wv)(u,{class:"text-center mt-5 panel-container"},{default:(0,r.k6)((()=>[q,(0,r.bF)(i,{class:"mt-4"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{cols:"12",md:"4",class:"mb-3"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{class:"panel-button",variant:"primary",onClick:t[0]||(t[0]=e=>d.goTo("Sales"))},{default:(0,r.k6)((()=>[(0,r.eW)(" Venda ")])),_:1})])),_:1}),(0,r.bF)(n,{cols:"12",md:"4",class:"mb-3"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{class:"panel-button",variant:"success",onClick:t[1]||(t[1]=e=>d.goTo("Products"))},{default:(0,r.k6)((()=>[(0,r.eW)(" Meus Produtos ")])),_:1})])),_:1}),(0,r.bF)(n,{cols:"12",md:"4",class:"mb-3"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{class:"panel-button",variant:"info",onClick:t[2]||(t[2]=e=>d.goTo("ProductsType"))},{default:(0,r.k6)((()=>[(0,r.eW)(" Tipos de Produtos ")])),_:1})])),_:1})])),_:1})])),_:1})}var I={methods:{goTo(e){this.$router.push({name:e})}}};const X=(0,s.A)(I,[["render",$],["__scopeId","data-v-02d206fa"]]);var R=X;const z=[{path:"/",name:"Home",component:R},{path:"/add-product",name:"AddProduct",component:v},{path:"/sales",name:"Sales",component:M},{path:"/products",name:"Products",component:O},{path:"/products-type",name:"ProductsType",component:N}],H=(0,u.aE)({history:(0,u.LA)(),routes:z});var B=H,G=a(5015);async function J(){const e=await a.e(53).then(a.t.bind(a,8874,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}J();const K=(0,o.Ef)(i);K.use(B),K.use(G.Ay),K.config.globalProperties.$formatDate=e=>e?new Date(e).toLocaleDateString("pt-BR"):null,K.mount("#app")}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,o,r,l){if(!o){var d=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],l=e[u][2];for(var s=!0,n=0;n<o.length;n++)(!1&l||d>=l)&&Object.keys(a.O).every((function(e){return a.O[e](o[n])}))?o.splice(n--,1):(s=!1,l<d&&(d=l));if(s){e.splice(u--,1);var i=r();void 0!==i&&(t=i)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[o,r,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var l=Object.create(null);a.r(l);var d={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&o;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){d[e]=function(){return o[e]}}));return d["default"]=function(){return o},a.d(l,d),l}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,o){return a.f[o](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/webfontloader.2d9b0a33.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="market-system:";a.l=function(o,r,l,d){if(e[o])e[o].push(r);else{var s,n;if(void 0!==l)for(var i=document.getElementsByTagName("script"),u=0;u<i.length;u++){var c=i[u];if(c.getAttribute("src")==o||c.getAttribute("data-webpack")==t+l){s=c;break}}s||(n=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+l),s.src=o),e[o]=[r];var p=function(t,a){s.onerror=s.onload=null,clearTimeout(m);var r=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),n&&document.head.appendChild(s)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.f.j=function(t,o){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var l=new Promise((function(a,o){r=e[t]=[a,o]}));o.push(r[2]=l);var d=a.p+a.u(t),s=new Error,n=function(o){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var l=o&&("load"===o.type?"missing":o.type),d=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+l+": "+d+")",s.name="ChunkLoadError",s.type=l,s.request=d,r[1](s)}};a.l(d,n,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,l,d=o[0],s=o[1],n=o[2],i=0;if(d.some((function(t){return 0!==e[t]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(n)var u=n(a)}for(t&&t(o);i<d.length;i++)l=d[i],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(u)},o=self["webpackChunkmarket_system"]=self["webpackChunkmarket_system"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(2675)}));o=a.O(o)})();
//# sourceMappingURL=app.4b6dd00c.js.map